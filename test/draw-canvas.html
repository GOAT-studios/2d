<!DOCTYPE html>
<html>
	<head>
		<title>Core test</title>

		<script type="text/javascript" src="../src/core/core.js"></script>
		<script type="text/javascript" src="../src/plugins/draw-canvas.js"></script>
	</head>
	<body>

		<script type="text/javascript">
		
			var assets = {
				name: "very-basic-assets",
				type: "Assets",
				Init: function(game) {
					this.assets = [];
				},
				load: function(url) {
					this.assets.push(url);
				},
				get: function(url) {
					return url;
				}
			}

			var camera = {
				name: "very-basic-camera",
				type: "Camera",
				Init: function(game) {
					this.x = 0;
					this.y = 0;
				},
				Update: function(game) {
					this.x++;
					this.y++;
				},
				translate: function(vector) {
					this.x += vector.x;
					this.y += vector.y;
				},
				moveTo: function(vector) {
					this.x = vector.x;
					this.y = vector.y;
				}
			}

			var colliders = {
				name: "very-basic-colliders",
				type: "Colliders",
				Box: function(vector, w, h) {
					this.pos    = vector;
					this.width  = x;
					this.height = h;
					return this;
				},
				test: function(a, b) {
					return a === b;
				}
			}

			var sound = {
				name: "very-basic-sound",
				type: "Sound",
				play: function(url) {
					console.log("Playing sound:", game.Assets.get(url));
				}
			}

			var world = {
				name: "very-basic-world",
				type: "World",
				Init: function(game) {
					this.world = [
						function(d) {d.rect(0,0,100,150);}
					];
				},
				Update: function(game) {
					for(var i = 0, len = this.world.length; i < len; i++) {
						this.world[i](game.Draw);
					}
				}
			}


			var plugins = [new Draw(), assets, camera, colliders, sound, world];


			var game = new Game({}, plugins);
			game.init();

			document.body.appendChild(game.Draw.domElement);

			game.Draw.instance.fillStyle("yellow").strokeStyle("black").lineWidth(3)
			   .fillCircle(75, 75, 50).beginPath().arc(35, 75, 90, 75, 40).closePath().stroke()

		</script>
	</body>
</html>